(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{24:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t,a){e.exports=a(38)},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),s=a.n(r),c=a(5),l=a(8),i=a(9),u=a(11),m=a(10),d=a(12),p=a(6),b=a(17),h="https://reactnd-books-api.udacity.com",k=localStorage.token;k||(k=localStorage.token=Math.random().toString(36).substr(-8));var f={Accept:"application/json",Authorization:k},v=function(e){return fetch("".concat(h,"/books/").concat(e),{headers:f}).then((function(e){return e.json()})).then((function(e){return e.book}))},E=function(e,t){return fetch("".concat(h,"/books/").concat(e.id),{method:"PUT",headers:Object(b.a)({},f,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},g=function(e){return fetch("".concat(h,"/search"),{method:"POST",headers:Object(b.a)({},f,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))};a(31);var N=function(e){return o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement(c.b,{key:e.book.id,to:"/book/"+e.book.id},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url("+(e.book.imageLinks&&e.book.imageLinks.thumbnail||"")+")"}})),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:e.book.shelf||"none",onChange:function(t){return e.onUpdate(e.book,t.target.value)}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))),o.a.createElement("div",{className:"book-title"},e.book.title),o.a.createElement("div",{className:"book-authors"},e.book.authors?e.book.authors.map((function(e,t){return o.a.createElement("span",{key:t},e,o.a.createElement("br",null))})):null))};var y=function(e){var t=e.books.filter((function(t){return t.shelf===e.shelf}));return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},e.title),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},t.map((function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(N,{book:t,onUpdate:e.onUpdate}))})))))},A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={searching:!1,message:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onReset()}},{key:"componentDidUpdate",value:function(e){e.results!==this.props.results&&this.setState({searching:!1,message:"Your search returned no results"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(c.b,{to:"/",className:"close-search"},"Close"),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",autoFocus:!0,onChange:function(t){e.setState({searching:!0}),e.props.onSearch(t.target.value)}}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},this.state.searching?o.a.createElement("div",{className:"spinner"},o.a.createElement("div",{className:"bounce1"}),o.a.createElement("div",{className:"bounce2"}),o.a.createElement("div",{className:"bounce3"})):null,this.state.searching||0!==this.props.results.length?this.props.results.map((function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(N,{book:t,onUpdate:e.props.onUpdate}))})):o.a.createElement("div",{className:"search-empty"},this.state.message))))}}]),t}(n.Component),j=a(24),O=a.n(j),T=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.onReset()}},{key:"render",value:function(){if(!this.props.book.id)return o.a.createElement("div",{className:"spinner"},o.a.createElement("div",{className:"bounce1"}),o.a.createElement("div",{className:"bounce2"}),o.a.createElement("div",{className:"bounce3"}));var e=this.props.book;return o.a.createElement("div",null,o.a.createElement("div",{className:"book-container"},o.a.createElement("h2",null,e.title),o.a.createElement("p",null,e.subtitle),o.a.createElement(N,{key:e.id,book:e,onUpdate:this.props.onUpdate})),o.a.createElement("div",{className:"book-content"},o.a.createElement("p",null,"Pages: ",e.pageCount),o.a.createElement("p",null,e.description),o.a.createElement("p",null,o.a.createElement("a",{href:e.previewLink,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:O.a,alt:"Google Books Preview"})))))}}]),t}(n.Component),x=a(25),D=a.n(x);function B(e){return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads"),e.back?o.a.createElement(c.b,{to:"/",className:"close-book"},"Close"):null),e.children)}var U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],results:[],book:{}},a.updateBook=function(e,t){a.state.books.find((function(t){return t.id===e.id}))?a.setState((function(a){return{books:a.books.map((function(a){return a.id===e.id&&(a.shelf=t),a}))}})):a.setState((function(a){return e.shelf=t,{books:a.books.concat(e)}})),E(e,t)},a.handleSearch=D.a.debounce((function(e){return a.searchBooks(e)}),500),a.searchBooks=function(e){""!==(e=e.trim())?g(e).then((function(e){var t;e.error||(t=e.map((function(e){var t=a.state.books.find((function(t){return t.id===e.id}));return t&&(e.shelf=t.shelf),e}))),e.error?a.resetResults():a.setState({results:t})})).catch((function(e){console.log(e)})):a.resetResults()},a.resetResults=function(){a.setState({book:{},results:[]})},a.getBook=function(e){v(e).then((function(e){return a.setState({book:e})}))},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(h,"/books"),{headers:f}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(t){e.setState({books:t})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement(p.a,{exact:!0,path:"/search",render:function(){return o.a.createElement(A,{onSearch:e.handleSearch,onUpdate:e.updateBook,onReset:e.resetResults,results:e.state.results})}}),o.a.createElement(p.a,{exact:!0,path:"/",render:function(){return o.a.createElement(B,null,o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement(y,{books:e.state.books,title:"Currently Reading",shelf:"currentlyReading",onUpdate:e.updateBook}),o.a.createElement(y,{books:e.state.books,title:"Want to Read",shelf:"wantToRead",onUpdate:e.updateBook}),o.a.createElement(y,{books:e.state.books,title:"Read",shelf:"read",onUpdate:e.updateBook}))),o.a.createElement("div",{className:"open-search"},o.a.createElement(c.b,{to:"/search"},"Add a book")))}}),o.a.createElement(p.a,{path:"/book/:id",render:function(t){return o.a.createElement(B,{back:"true"},o.a.createElement(T,Object.assign({},t,{onLoad:e.getBook,book:e.state.book,onUpdate:e.updateBook,onReset:e.resetResults})))}}))}}]),t}(o.a.Component);a(37);s.a.render(o.a.createElement(c.a,null,o.a.createElement(U,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.cf330eb8.chunk.js.map