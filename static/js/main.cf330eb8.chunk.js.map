{"version":3,"sources":["icons/gbs_preview_button1.png","BooksAPI.js","Book.js","BookShelf.js","SearchBooks.js","BookInfo.js","App.js","index.js"],"names":["module","exports","api","token","localStorage","Math","random","toString","substr","headers","get","bookId","fetch","then","res","json","data","book","update","shelf","id","method","body","JSON","stringify","search","query","books","Book","props","className","key","to","style","width","height","backgroundImage","imageLinks","thumbnail","defaultValue","onChange","e","onUpdate","target","value","disabled","title","authors","map","author","index","BookShelf","filteredBooks","filter","SearchBooks","state","searching","message","this","onReset","prevProps","results","setState","type","placeholder","autoFocus","onSearch","length","Component","BookInfo","onLoad","match","params","subtitle","pageCount","description","href","previewLink","rel","src","gBooksLogo","alt","Header","back","children","BooksApp","updateBook","find","el","b","prevState","concat","BooksAPI","handleSearch","_","debounce","searchBooks","trim","searchResults","error","found","resetResults","catch","console","log","getBook","exact","path","render","React","ReactDOM","document","getElementById"],"mappings":"wFAAAA,EAAOC,QAAU,s3I,sNCCXC,EAAM,wCAIRC,EAAQC,aAAaD,MACpBA,IACHA,EAAQC,aAAaD,MAAQE,KAAKC,SAASC,SAAS,IAAIC,QAAQ,IAElE,IAAMC,EAAU,CACd,OAAU,mBACV,cAAiBN,GAGNO,EAAM,SAACC,GAAD,OACjBC,MAAM,GAAD,OAAIV,EAAJ,kBAAiBS,GAAU,CAAEF,YAC/BI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIA,EAAKC,SAOVC,EAAS,SAACD,EAAME,GAAP,OACpBP,MAAM,GAAD,OAAIV,EAAJ,kBAAiBe,EAAKG,IAAM,CAC/BC,OAAQ,MACRZ,QAAQ,eACHA,EADE,CAEL,eAAgB,qBAElBa,KAAMC,KAAKC,UAAU,CAAEL,YACtBN,MAAK,SAAAC,GAAG,OAAIA,EAAIC,WAERU,EAAS,SAACC,GAAD,OACpBd,MAAM,GAAD,OAAIV,EAAJ,WAAkB,CACrBmB,OAAQ,OACRZ,QAAQ,eACHA,EADE,CAEL,eAAgB,qBAElBa,KAAMC,KAAKC,UAAU,CAAEE,YACtBb,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIA,EAAKW,U,MCjBRC,MAvBf,SAAcC,GACZ,OACE,yBAAKC,UAAU,QACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAMC,IAAKF,EAAMZ,KAAKG,GAAIY,GAAI,SAAWH,EAAMZ,KAAKG,IAClD,yBAAKU,UAAU,aAAaG,MAAO,CAAEC,MAAO,IAAKC,OAAQ,IAAKC,gBAAiB,QAAWP,EAAMZ,KAAKoB,YAAcR,EAAMZ,KAAKoB,WAAWC,WAAc,IAAM,QAE/J,yBAAKR,UAAU,sBACb,4BAAQS,aAAcV,EAAMZ,KAAKE,OAAS,OAAQqB,SAAU,SAACC,GAAD,OAAOZ,EAAMa,SAASb,EAAMZ,KAAMwB,EAAEE,OAAOC,SACrG,4BAAQA,MAAM,OAAOC,UAAQ,GAA7B,cACA,4BAAQD,MAAM,oBAAd,qBACA,4BAAQA,MAAM,cAAd,gBACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,QAAd,WAIN,yBAAKd,UAAU,cAAcD,EAAMZ,KAAK6B,OACxC,yBAAKhB,UAAU,gBAAiBD,EAAMZ,KAAK8B,QAAUlB,EAAMZ,KAAK8B,QAAQC,KAAK,SAACC,EAAQC,GAAT,OAAoB,0BAAMnB,IAAKmB,GAAQD,EAAO,iCAAkB,QCMpIE,MAxBf,SAAmBtB,GACjB,IAAIuB,EAAgBvB,EAAMF,MAAM0B,QAAO,SAACpC,GAAD,OAAUA,EAAKE,QAAUU,EAAMV,SAEtE,OACE,yBAAKW,UAAU,aACb,wBAAIA,UAAU,mBAAoBD,EAAMiB,OACxC,yBAAKhB,UAAU,mBACb,wBAAIA,UAAU,cAEVsB,EAAcJ,KAAI,SAAA/B,GAAI,OACpB,wBAAIc,IAAKd,EAAKG,IACZ,kBAAC,EAAD,CACEH,KAAMA,EACNyB,SAAUb,EAAMa,mBC6DnBY,E,2MAvEbC,MAAQ,CACNC,WAAW,EACXC,QAAS,I,sFAITC,KAAK7B,MAAM8B,Y,yCAGMC,GACbA,EAAUC,UAAYH,KAAK7B,MAAMgC,SAASH,KAAKI,SAAS,CAAEN,WAAW,EAAOC,QAAS,sC,+BAGjF,IAAD,OACP,OACE,yBAAK3B,UAAU,gBACb,yBAAKA,UAAU,oBACb,kBAAC,IAAD,CAAME,GAAG,IAAIF,UAAU,gBAAvB,SAGA,yBAAKA,UAAU,8BASb,2BAAOiC,KAAK,OAAOC,YAAY,4BAA4BC,WAAW,EACpEzB,SAAU,SAACC,GAAO,EAAKqB,SAAS,CAAEN,WAAW,IAC3B,EAAK3B,MAAMqC,SAASzB,EAAEE,OAAOC,YAMrD,yBAAKd,UAAU,wBACb,wBAAIA,UAAU,cAGV4B,KAAKH,MAAMC,UACT,yBAAK1B,UAAU,WACb,yBAAKA,UAAU,YACf,yBAAKA,UAAU,YACf,yBAAKA,UAAU,aACR,KAKV4B,KAAKH,MAAMC,WAA2C,IAA9BE,KAAK7B,MAAMgC,QAAQM,OAI1CT,KAAK7B,MAAMgC,QAAQb,KAAI,SAAA/B,GAAI,OACzB,wBAAIc,IAAKd,EAAKG,IACZ,kBAAC,EAAD,CACEH,KAAMA,EACNyB,SAAU,EAAKb,MAAMa,eAP3B,yBAAKZ,UAAU,gBACZ4B,KAAKH,MAAME,gB,GAvDJW,a,iBC0CXC,E,4LAvCXX,KAAK7B,MAAMyC,OAAOZ,KAAK7B,MAAM0C,MAAMC,OAAOpD,M,6CAI1CsC,KAAK7B,MAAM8B,Y,+BAKX,IAAKD,KAAK7B,MAAMZ,KAAKG,GAAI,OACvB,yBAAKU,UAAU,WACb,yBAAKA,UAAU,YACf,yBAAKA,UAAU,YACf,yBAAKA,UAAU,aAInB,IAAIb,EAAOyC,KAAK7B,MAAMZ,KACtB,OACE,6BACE,yBAAKa,UAAU,kBACb,4BAAKb,EAAK6B,OACV,2BAAI7B,EAAKwD,UACT,kBAAC,EAAD,CACE1C,IAAKd,EAAKG,GACVH,KAAMA,EACNyB,SAAUgB,KAAK7B,MAAMa,YAGzB,yBAAKZ,UAAU,gBACb,qCAAWb,EAAKyD,WAChB,2BAAIzD,EAAK0D,aACT,2BAAG,uBAAGC,KAAM3D,EAAK4D,YAAalC,OAAO,SAASmC,IAAI,uBAAsB,yBAAKC,IAAKC,IAAYC,IAAI,iC,GAnCrFb,a,iBCgJvB,SAASc,EAAOrD,GACd,OACE,yBAAKC,UAAU,cACb,yBAAKA,UAAU,oBACb,uCAEED,EAAMsD,KACJ,kBAAC,IAAD,CAAMnD,GAAG,IAAIF,UAAU,cAAvB,SAGE,MAGPD,EAAMuD,UAKEC,M,2MA3Jb9B,MAAQ,CACN5B,MAAO,GACPkC,QAAS,GACT5C,KAAM,I,EAURqE,WAAa,SAACrE,EAAME,GAEN,EAAKoC,MAAM5B,MAAM4D,MAAK,SAAAC,GAAE,OAAIA,EAAGpE,KAAOH,EAAKG,MAUrD,EAAK0C,UAAS,SAACP,GAAD,MAAY,CACxB5B,MAAO4B,EAAM5B,MAAMqB,KAAI,SAACyC,GAEtB,OADIA,EAAErE,KAAOH,EAAKG,KAAIqE,EAAEtE,MAAQA,GACzBsE,SATX,EAAK3B,UAAS,SAAC4B,GAEb,OADAzE,EAAKE,MAAQA,EACN,CAACQ,MAAO+D,EAAU/D,MAAMgE,OAAO1E,OAa1C2E,EAAgB3E,EAAME,I,EAIxB0E,aAAeC,IAAEC,UAAS,SAAArE,GAAK,OAAI,EAAKsE,YAAYtE,KAAQ,K,EAE5DsE,YAAc,SAACtE,GAIC,MAHdA,EAAQA,EAAMuE,QASdL,EAAgBlE,GACbb,MAAK,SAAAgD,GACJ,IAAIqC,EACCrC,EAAQsC,QAEXD,EAAgBrC,EAAQb,KAAI,SAACyC,GAC3B,IAAIW,EAAQ,EAAK7C,MAAM5B,MAAM4D,MAAK,SAAAC,GAAE,OAAIA,EAAGpE,KAAOqE,EAAErE,MAEpD,OADIgF,IAAOX,EAAEtE,MAAQiF,EAAMjF,OACpBsE,MAIX5B,EAAQsC,MAAQ,EAAKE,eAAiB,EAAKvC,SAAS,CAAED,QAASqC,OAEhEI,OAAM,SAAAH,GACLI,QAAQC,IAAIL,MApBd,EAAKE,gB,EAwBTA,aAAe,WACb,EAAKvC,SAAS,CAAE7C,KAAM,GAAI4C,QAAS,M,EAGrC4C,QAAU,SAACrF,GACTwE,EAAaxE,GAAIP,MAAK,SAAAI,GAAI,OAAI,EAAK6C,SAAS,CAAE7C,a,mFApE3B,IAAD,OLGpBL,MAAM,GAAD,OAAIV,EAAJ,UAAiB,CAAEO,YACrBI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIA,EAAKW,SKHDd,MAAK,SAAAc,GACrB,EAAKmC,SAAS,CAAEnC,e,+BAoEV,IAAD,OACP,OACE,yBAAKG,UAAU,OACb,kBAAC,IAAD,CAAO4E,OAAK,EAACC,KAAK,UAAUC,OAAQ,kBAClC,kBAAC,EAAD,CACE1C,SAAU,EAAK2B,aACfnD,SAAU,EAAK4C,WACf3B,QAAS,EAAK0C,aACdxC,QAAS,EAAKN,MAAMM,aAIxB,kBAAC,IAAD,CAAO6C,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAC5B,kBAAC1B,EAAD,KACE,yBAAKpD,UAAU,sBACb,6BACE,kBAAC,EAAD,CACEH,MAAO,EAAK4B,MAAM5B,MAClBmB,MAAM,oBACN3B,MAAM,mBACNuB,SAAU,EAAK4C,aAEjB,kBAAC,EAAD,CACE3D,MAAO,EAAK4B,MAAM5B,MAClBmB,MAAM,eACN3B,MAAM,aACNuB,SAAU,EAAK4C,aAEjB,kBAAC,EAAD,CACE3D,MAAO,EAAK4B,MAAM5B,MAClBmB,MAAM,OACN3B,MAAM,OACNuB,SAAU,EAAK4C,eAIrB,yBAAKxD,UAAU,eACb,kBAAC,IAAD,CAAME,GAAG,WAAT,mBAON,kBAAC,IAAD,CAAO2E,KAAK,YAAYC,OAAQ,SAAC/E,GAAD,OAC9B,kBAACqD,EAAD,CAAQC,KAAK,QACX,kBAAC,EAAD,iBACMtD,EADN,CAEEyC,OAAQ,EAAKmC,QACbxF,KAAM,EAAKsC,MAAMtC,KACjByB,SAAU,EAAK4C,WACf3B,QAAS,EAAK0C,yB,GAlILQ,IAAMzC,W,MCH7B0C,IAASF,OACL,kBAAC,IAAD,KAAY,kBAAC,EAAD,OACZG,SAASC,eAAe,W","file":"static/js/main.cf330eb8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Book(props) {\r\n  return (\r\n    <div className=\"book\">\r\n      <div className=\"book-top\">\r\n        <Link key={props.book.id} to={'/book/' + props.book.id}>\r\n          <div className=\"book-cover\" style={{ width: 128, height: 193, backgroundImage: 'url(' + ((props.book.imageLinks && props.book.imageLinks.thumbnail) || '') + ')' }}></div>\r\n        </Link>\r\n        <div className=\"book-shelf-changer\">\r\n          <select defaultValue={props.book.shelf || 'none'} onChange={(e) => props.onUpdate(props.book, e.target.value)}>\r\n            <option value=\"move\" disabled>Move to...</option>\r\n            <option value=\"currentlyReading\">Currently Reading</option>\r\n            <option value=\"wantToRead\">Want to Read</option>\r\n            <option value=\"read\">Read</option>\r\n            <option value=\"none\">None</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"book-title\">{props.book.title}</div>\r\n      <div className=\"book-authors\">{ props.book.authors ? props.book.authors.map( (author, index) => (<span key={index}>{author}<br/></span>) ) : null }</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Book","import React from 'react';\r\nimport Book from './Book'\r\n\r\nfunction BookShelf(props) {\r\n  let filteredBooks = props.books.filter((book) => book.shelf === props.shelf);\r\n\r\n  return (\r\n    <div className=\"bookshelf\">\r\n      <h2 className=\"bookshelf-title\">{ props.title }</h2>\r\n      <div className=\"bookshelf-books\">\r\n        <ol className=\"books-grid\">\r\n          {\r\n            filteredBooks.map(book => (\r\n              <li key={book.id}>\r\n                <Book  \r\n                  book={book}\r\n                  onUpdate={props.onUpdate}\r\n                />\r\n              </li>\r\n            ))\r\n          }\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BookShelf","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport Book from './Book'\n\nclass SearchBooks extends Component {\n\n  state = {\n    searching: false,\n    message: ''\n  }\n\n  componentWillUnmount() {\n    this.props.onReset();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.results !== this.props.results) this.setState({ searching: false, message: 'Your search returned no results' })\n  }\n\n  render() {\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link to=\"/\" className=\"close-search\">\n            Close\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            {/*\n              NOTES: The search from BooksAPI is limited to a particular set of search terms.\n              You can find these search terms here:\n              https://github.com/udacity/reactnd-project-myreads-starter/blob/master/SEARCH_TERMS.md\n\n              However, remember that the BooksAPI.search method DOES search by title or author. So, don't worry if\n              you don't find a specific author or title. Every search is limited by search terms.\n            */}\n            <input type=\"text\" placeholder=\"Search by title or author\" autoFocus={true} \n              onChange={(e) => {this.setState({ searching: true });\n                                this.props.onSearch(e.target.value)\n                               }\n                       } \n            />\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <ol className=\"books-grid\">\n            {/* if search is in progress show loading spinner */}\n            {\n              this.state.searching ?  \n                <div className=\"spinner\">\n                  <div className=\"bounce1\"></div>\n                  <div className=\"bounce2\"></div>\n                  <div className=\"bounce3\"></div>\n                </div> : null\n            }\n\n            {/* if we have search results and no search in progress show them */}\n            {\n              !this.state.searching && this.props.results.length === 0 ?\n                <div className=\"search-empty\">\n                  {this.state.message}\n                </div> :\n                this.props.results.map(book => (\n                  <li key={book.id}>\n                    <Book  \n                      book={book}\n                      onUpdate={this.props.onUpdate}\n                    />\n                  </li>\n                ))\n            }\n          </ol>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchBooks","import React, { Component } from 'react';\nimport Book from './Book'\nimport gBooksLogo from './icons/gbs_preview_button1.png'\n\nclass BookInfo extends Component {\n\n  componentDidMount() {\n    this.props.onLoad(this.props.match.params.id)\n  }\n\n  componentWillUnmount() {\n    this.props.onReset();\n  }\n\n  render() {\n    // if results from the fetch are not ready then show a loading spinner\n    if (!this.props.book.id) return (\n      <div className=\"spinner\">\n        <div className=\"bounce1\"></div>\n        <div className=\"bounce2\"></div>\n        <div className=\"bounce3\"></div>\n      </div>\n    );\n\n    let book = this.props.book;\n    return (\n      <div>\n        <div className=\"book-container\">\n          <h2>{book.title}</h2>\n          <p>{book.subtitle}</p>\n          <Book \n            key={book.id}\n            book={book}\n            onUpdate={this.props.onUpdate}\n          />\n        </div>\n        <div className=\"book-content\">\n          <p>Pages: {book.pageCount}</p>\n          <p>{book.description}</p>\n          <p><a href={book.previewLink} target=\"_blank\" rel=\"noopener noreferrer\"><img src={gBooksLogo} alt=\"Google Books Preview\" /></a></p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default BookInfo","import React from 'react'\nimport { Route, Link } from 'react-router-dom'\nimport * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport BookShelf from './BookShelf';\nimport SearchBooks from './SearchBooks'\nimport BookInfo from './BookInfo'\nimport _ from 'lodash'\n\nclass BooksApp extends React.Component {\n\n  state = {\n    books: [],    // my library\n    results: [],  // search results\n    book: {}\n  }\n\n  componentDidMount() {\n    // get all the books in my library from the server\n    BooksAPI.getAll().then(books => {\n      this.setState({ books });\n    })\n  }\n\n  updateBook = (book, shelf) => {\n    // Check if the book to update the shelf to, is already in my library\n    let found = this.state.books.find(el => el.id === book.id);\n    \n    // if it's not then update his shelf and add it to the library\n    if (!found) {\n      this.setState((prevState) => {\n        book.shelf = shelf;\n        return {books: prevState.books.concat(book)}\n      })\n    } else {\n    // if it's alredy in the library then change his shelf\n      this.setState((state) => ({\n        books: state.books.map((b) => {\n          if (b.id === book.id) b.shelf = shelf;\n          return b;\n        })\n      }))\n    }\n\n    // Update the book shelf to the server\n    BooksAPI.update(book, shelf);\n  }\n\n  // debounce the search function to avoid fetch requests on every keystroke\n  handleSearch = _.debounce(query => this.searchBooks(query), 500);\n\n  searchBooks = (query) => {\n    query = query.trim();\n    \n    // if query is empty clear the results and return \n    if (query === '') {\n      this.resetResults();\n      return;\n    }\n\n    // search\n    BooksAPI.search(query)\n      .then(results => {\n        let searchResults;\n        if (!results.error) {\n          // compare the search results with my library and update the shelves to display correct state in search results\n          searchResults = results.map((b) => {\n            let found = this.state.books.find(el => el.id === b.id);\n            if (found) b.shelf = found.shelf;\n            return b; \n          })\n        }\n\n        results.error ? this.resetResults() : this.setState({ results: searchResults })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n  \n  resetResults = () => {\n    this.setState({ book: {}, results: []});\n  }\n\n  getBook = (id) => {\n    BooksAPI.get(id).then(book => this.setState({ book }))\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Route exact path='/search' render={() => (\n          <SearchBooks\n            onSearch={this.handleSearch}\n            onUpdate={this.updateBook}\n            onReset={this.resetResults}\n            results={this.state.results}\n          />\n        )}/>\n\n        <Route exact path='/' render={() => (\n          <Header>\n            <div className=\"list-books-content\">\n              <div>\n                <BookShelf \n                  books={this.state.books}\n                  title=\"Currently Reading\"\n                  shelf=\"currentlyReading\"\n                  onUpdate={this.updateBook}\n                />\n                <BookShelf \n                  books={this.state.books}\n                  title=\"Want to Read\"\n                  shelf=\"wantToRead\"\n                  onUpdate={this.updateBook}\n                />\n                <BookShelf \n                  books={this.state.books}\n                  title=\"Read\"\n                  shelf=\"read\"\n                  onUpdate={this.updateBook}\n                />\n              </div>\n            </div>\n            <div className=\"open-search\">\n              <Link to=\"/search\">\n                Add a book\n              </Link>\n            </div>\n          </Header>\n        )}/>\n\n        <Route path='/book/:id' render={(props) => (\n          <Header back=\"true\">\n            <BookInfo\n              {...props}\n              onLoad={this.getBook}\n              book={this.state.book}\n              onUpdate={this.updateBook}\n              onReset={this.resetResults}\n            />\n          </Header>\n        )}/>\n      </div>\n    )\n  }\n}\n\nfunction Header(props) {\n  return (\n    <div className=\"list-books\">\n      <div className=\"list-books-title\">\n        <h1>MyReads</h1>\n        {\n          props.back ? \n            <Link to=\"/\" className=\"close-book\">\n              Close\n            </Link>\n            : null\n        }\n      </div>\n      {props.children}\n    </div>\n  )\n}\n\nexport default BooksApp\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <HashRouter><App /></HashRouter>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}